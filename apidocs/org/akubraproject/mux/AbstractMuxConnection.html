<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Sat Mar 03 10:10:17 EST 2012 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
AbstractMuxConnection (Akubra Blob Storage API 0.4.0-SNAPSHOT API)
</TITLE>

<META NAME="date" CONTENT="2012-03-03">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractMuxConnection (Akubra Blob Storage API 0.4.0-SNAPSHOT API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AbstractMuxConnection.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../org/akubraproject/mux/AbstractMuxStore.html" title="class in org.akubraproject.mux"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/akubraproject/mux/AbstractMuxConnection.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AbstractMuxConnection.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.akubraproject.mux</FONT>
<BR>
Class AbstractMuxConnection</H2>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../org/akubraproject/impl/AbstractBlobStoreConnection.html" title="class in org.akubraproject.impl">org.akubraproject.impl.AbstractBlobStoreConnection</A>
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>org.akubraproject.mux.AbstractMuxConnection</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../org/akubraproject/BlobStoreConnection.html" title="interface in org.akubraproject">BlobStoreConnection</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>AbstractMuxConnection</B><DT>extends <A HREF="../../../org/akubraproject/impl/AbstractBlobStoreConnection.html" title="class in org.akubraproject.impl">AbstractBlobStoreConnection</A></DL>
</PRE>

<P>
An abstract base class for connections returned by multiplexing BlobStores. Sub-class
 implementations must provide a <A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#getStore(java.net.URI, java.util.Map)"><CODE>getStore(java.net.URI, java.util.Map<java.lang.String, java.lang.String>)</CODE></A> implementation. Additionally for multiplexing
 content addressable stores, sub-classes must override the default implementation of <A HREF="../../../org/akubraproject/impl/AbstractBlobStoreConnection.html#getBlob(java.io.InputStream, long, java.util.Map)"><CODE>AbstractBlobStoreConnection.getBlob(java.io.InputStream, long,
 Map)</CODE></A> and direct the call to the appropriate backing store. Note that the returned Blob from
 the backing store must be wrapped so that the <A HREF="../../../org/akubraproject/Blob.html#getConnection()"><CODE>Blob.getConnection()</CODE></A> of the returned Blob will return this connection
 object.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Pradeep Krishnan</DD>
<DT><B>See Also:</B><DD><A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#getStore(java.net.URI, java.util.Map)"><CODE>getStore(URI, Map)</CODE></A>, 
<A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#getStores(java.lang.String)"><CODE>getStores(String)</CODE></A>, 
<A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#getConnection(org.akubraproject.BlobStore, java.util.Map)"><CODE>getConnection(BlobStore, Map)</CODE></A>, 
<A HREF="../../../org/akubraproject/mux/MuxBlob.html" title="class in org.akubraproject.mux"><CODE>MuxBlob</CODE></A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net">URI</A>,<A HREF="../../../org/akubraproject/BlobStoreConnection.html" title="interface in org.akubraproject">BlobStoreConnection</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#cons">cons</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A map of store-ids to connections.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/javax/transaction/Transaction.html?is-external=true" title="class or interface in javax.transaction">Transaction</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#txn">txn</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The transaction to pass to while opening connections to the backing stores.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.akubraproject.impl.AbstractBlobStoreConnection"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class org.akubraproject.impl.<A HREF="../../../org/akubraproject/impl/AbstractBlobStoreConnection.html" title="class in org.akubraproject.impl">AbstractBlobStoreConnection</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../org/akubraproject/impl/AbstractBlobStoreConnection.html#closed">closed</A>, <A HREF="../../../org/akubraproject/impl/AbstractBlobStoreConnection.html#owner">owner</A>, <A HREF="../../../org/akubraproject/impl/AbstractBlobStoreConnection.html#streamManager">streamManager</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#AbstractMuxConnection(org.akubraproject.BlobStore, javax.transaction.Transaction)">AbstractMuxConnection</A></B>(<A HREF="../../../org/akubraproject/BlobStore.html" title="interface in org.akubraproject">BlobStore</A>&nbsp;store,
                      <A HREF="http://download.oracle.com/javase/6/docs/api/javax/transaction/Transaction.html?is-external=true" title="class or interface in javax.transaction">Transaction</A>&nbsp;txn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new AbstractMuxConnection object.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Closes this connection and all underlying connections created using <A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#getConnection(org.akubraproject.BlobStore, java.util.Map)"><CODE>getConnection(BlobStore, Map)</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/akubraproject/Blob.html" title="interface in org.akubraproject">Blob</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#getBlob(java.net.URI, java.util.Map)">getBlob</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net">URI</A>&nbsp;blobId,
        <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;hints)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the blob with the given id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../org/akubraproject/BlobStoreConnection.html" title="interface in org.akubraproject">BlobStoreConnection</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#getConnection(org.akubraproject.BlobStore, java.util.Map)">getConnection</A></B>(<A HREF="../../../org/akubraproject/BlobStore.html" title="interface in org.akubraproject">BlobStore</A>&nbsp;store,
              <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;hints)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lookup/Create a connection to the given backing store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;<A HREF="../../../org/akubraproject/BlobStore.html" title="interface in org.akubraproject">BlobStore</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#getStore(java.net.URI, java.util.Map)">getStore</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net">URI</A>&nbsp;blobId,
         <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;hints)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the backing store where the given blob is persisted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../org/akubraproject/BlobStore.html" title="interface in org.akubraproject">BlobStore</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#getStores(java.lang.String)">getStores</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;prefix)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the set of a backing stores matching the given blobId prefix.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net">URI</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#listBlobIds(java.lang.String)">listBlobIds</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;filterPrefix)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets an iterator over the ids of all blobs in this store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#sync()">sync</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flush all blobs associated with this connection and fsync.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.akubraproject.impl.AbstractBlobStoreConnection"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.akubraproject.impl.<A HREF="../../../org/akubraproject/impl/AbstractBlobStoreConnection.html" title="class in org.akubraproject.impl">AbstractBlobStoreConnection</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../org/akubraproject/impl/AbstractBlobStoreConnection.html#ensureOpen()">ensureOpen</A>, <A HREF="../../../org/akubraproject/impl/AbstractBlobStoreConnection.html#getBlob(java.io.InputStream, long, java.util.Map)">getBlob</A>, <A HREF="../../../org/akubraproject/impl/AbstractBlobStoreConnection.html#getBlobStore()">getBlobStore</A>, <A HREF="../../../org/akubraproject/impl/AbstractBlobStoreConnection.html#isClosed()">isClosed</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="txn"><!-- --></A><H3>
txn</H3>
<PRE>
protected final <A HREF="http://download.oracle.com/javase/6/docs/api/javax/transaction/Transaction.html?is-external=true" title="class or interface in javax.transaction">Transaction</A> <B>txn</B></PRE>
<DL>
<DD>The transaction to pass to while opening connections to the backing stores. Note that
 this transaction is only passed to transaction capable stores. A null is passed for
 non-transactional stores.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#getConnection(org.akubraproject.BlobStore, java.util.Map)"><CODE>getConnection(BlobStore, Map)</CODE></A></DL>
</DL>
<HR>

<A NAME="cons"><!-- --></A><H3>
cons</H3>
<PRE>
protected <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net">URI</A>,<A HREF="../../../org/akubraproject/BlobStoreConnection.html" title="interface in org.akubraproject">BlobStoreConnection</A>&gt; <B>cons</B></PRE>
<DL>
<DD>A map of store-ids to connections.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#getConnection(org.akubraproject.BlobStore, java.util.Map)"><CODE>getConnection(BlobStore, Map)</CODE></A>, 
<A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#close()"><CODE>close()</CODE></A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AbstractMuxConnection(org.akubraproject.BlobStore, javax.transaction.Transaction)"><!-- --></A><H3>
AbstractMuxConnection</H3>
<PRE>
public <B>AbstractMuxConnection</B>(<A HREF="../../../org/akubraproject/BlobStore.html" title="interface in org.akubraproject">BlobStore</A>&nbsp;store,
                             <A HREF="http://download.oracle.com/javase/6/docs/api/javax/transaction/Transaction.html?is-external=true" title="class or interface in javax.transaction">Transaction</A>&nbsp;txn)</PRE>
<DL>
<DD>Creates a new AbstractMuxConnection object.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>store</CODE> - the mux store<DD><CODE>txn</CODE> - the txn passed in by the user</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getStore(java.net.URI, java.util.Map)"><!-- --></A><H3>
getStore</H3>
<PRE>
public abstract <A HREF="../../../org/akubraproject/BlobStore.html" title="interface in org.akubraproject">BlobStore</A> <B>getStore</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net">URI</A>&nbsp;blobId,
                                   <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;hints)
                            throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A>,
                                   <A HREF="../../../org/akubraproject/UnsupportedIdException.html" title="class in org.akubraproject">UnsupportedIdException</A></PRE>
<DL>
<DD>Gets the backing store where the given blob is persisted.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>blobId</CODE> - the blob id (can be null)<DD><CODE>hints</CODE> - A set of hints to allow the implementation to optimize the operation (can be
        null)
<DT><B>Returns:</B><DD>the store. Cannot be null and must be one of the backing stores.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - for IO errors
<DD><CODE><A HREF="../../../org/akubraproject/UnsupportedIdException.html" title="class in org.akubraproject">UnsupportedIdException</A></CODE> - if blobId is not in a recognized/usable pattern by any of the
         backing stores</DL>
</DD>
</DL>
<HR>

<A NAME="getStores(java.lang.String)"><!-- --></A><H3>
getStores</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../org/akubraproject/BlobStore.html" title="interface in org.akubraproject">BlobStore</A>&gt; <B>getStores</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;prefix)</PRE>
<DL>
<DD>Gets the set of a backing stores matching the given blobId prefix. By default the
 returned set is the set of all backing stores. Override in sub-classes to narrow down the
 set.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>prefix</CODE> - the blobId prefix or null
<DT><B>Returns:</B><DD>the set of stores matching the blobId prefix</DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public void <B>close</B>()</PRE>
<DL>
<DD>Closes this connection and all underlying connections created using <A HREF="../../../org/akubraproject/mux/AbstractMuxConnection.html#getConnection(org.akubraproject.BlobStore, java.util.Map)"><CODE>getConnection(BlobStore, Map)</CODE></A>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../org/akubraproject/BlobStoreConnection.html#close()">close</A></CODE> in interface <CODE><A HREF="../../../org/akubraproject/BlobStoreConnection.html" title="interface in org.akubraproject">BlobStoreConnection</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../org/akubraproject/impl/AbstractBlobStoreConnection.html#close()">close</A></CODE> in class <CODE><A HREF="../../../org/akubraproject/impl/AbstractBlobStoreConnection.html" title="class in org.akubraproject.impl">AbstractBlobStoreConnection</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getConnection(org.akubraproject.BlobStore, java.util.Map)"><!-- --></A><H3>
getConnection</H3>
<PRE>
protected <A HREF="../../../org/akubraproject/BlobStoreConnection.html" title="interface in org.akubraproject">BlobStoreConnection</A> <B>getConnection</B>(<A HREF="../../../org/akubraproject/BlobStore.html" title="interface in org.akubraproject">BlobStore</A>&nbsp;store,
                                            <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;hints)
                                     throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Lookup/Create a connection to the given backing store.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>store</CODE> - the backing store<DD><CODE>hints</CODE> - A set of hints to allow the implementation to optimize the operation (can be
              null)
<DT><B>Returns:</B><DD>the backing store connection or null
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - on an error in opening a connection to the backing store
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</A></CODE> - on an error in opening a connection to the backing store</DL>
</DD>
</DL>
<HR>

<A NAME="getBlob(java.net.URI, java.util.Map)"><!-- --></A><H3>
getBlob</H3>
<PRE>
public <A HREF="../../../org/akubraproject/Blob.html" title="interface in org.akubraproject">Blob</A> <B>getBlob</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net">URI</A>&nbsp;blobId,
                    <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;hints)
             throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../org/akubraproject/BlobStoreConnection.html#getBlob(java.net.URI, java.util.Map)">BlobStoreConnection</A></CODE></B></DD>
<DD>Gets the blob with the given id.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>blobId</CODE> - the blob id; may be null if the store supports id-generation<DD><CODE>hints</CODE> - A set of hints to allow the implementation to optimize the operation (can be
              null)
<DT><B>Returns:</B><DD>the blob. Cannot be null and must have the passed in blobId if blobId is not null. If
         the passed in blobId is null, a new and unique (for the store) id must be generated if
         the store is capable of generating ids; the thus returned blob may exist, in which
         case it will have an empty content. In either case there is no requirement that the
         returned blob must <A HREF="../../../org/akubraproject/Blob.html#exists()"><CODE>exist</CODE></A>. However there is a requirement that the
         <A HREF="../../../org/akubraproject/Blob.html#getConnection()"><CODE>getConnection()</CODE></A> method of the returned Blob must return
         this connection object.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - for IO errors
<DD><CODE><A HREF="../../../org/akubraproject/UnsupportedIdException.html" title="class in org.akubraproject">UnsupportedIdException</A></CODE> - if blobId is not in a recognized/usable pattern by this store</DL>
</DD>
</DL>
<HR>

<A NAME="listBlobIds(java.lang.String)"><!-- --></A><H3>
listBlobIds</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net">URI</A>&gt; <B>listBlobIds</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;filterPrefix)
                          throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../org/akubraproject/BlobStoreConnection.html#listBlobIds(java.lang.String)">BlobStoreConnection</A></CODE></B></DD>
<DD>Gets an iterator over the ids of all blobs in this store.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>filterPrefix</CODE> - If not null, the list will be limited to those blob-ids beginning with
                     this prefix.
<DT><B>Returns:</B><DD>The iterator over the blob-ids.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - if an error occurred getting the list of blob ids</DL>
</DD>
</DL>
<HR>

<A NAME="sync()"><!-- --></A><H3>
sync</H3>
<PRE>
public void <B>sync</B>()
          throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../org/akubraproject/BlobStoreConnection.html#sync()">BlobStoreConnection</A></CODE></B></DD>
<DD>Flush all blobs associated with this connection and fsync. After this method completes all
 data should be comitted to stable storage (for stores that are backed by stable storage).
 However, whether this is really the case will depend on the storage used by the store (e.g.
 for a local filesystem based store it'll depend on the OS config and hardware, i.e. whether
 the disk's write cache is flushed or not).

 <p>This may or may not flush any open output-streams. For reliable results ensure that all
 output streams are closed before calling sync.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - if any error occurred trying to flush and sync</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AbstractMuxConnection.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../org/akubraproject/mux/AbstractMuxStore.html" title="class in org.akubraproject.mux"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/akubraproject/mux/AbstractMuxConnection.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AbstractMuxConnection.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2009-2012 <a href="http://duraspace.org/">DuraSpace</a>. All Rights Reserved.
</BODY>
</HTML>
